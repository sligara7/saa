{
  "uaf_version": "1.2",
  "uaf_standards": {
    "dmm": "ISO/IEC 19540-1:2022",
    "uafml": "ISO/IEC 19540-2:2022"
  },
  "service_name": "D&D Search & Discovery System",
  "service_id": "search_discovery_system",
  "hierarchical_tier": "tier_1_systems",
  "component_classification": "service",
  "purpose": "Provide comprehensive search, discovery, and analytics capabilities across all D&D content including characters, campaigns, items, and documentation",
  "applicable_viewpoints": [
    {
      "viewpoint": "operational",
      "concern": "Search and discovery workflow",
      "key_views": ["Search Process", "Content Discovery"],
      "stakeholders": ["Players", "Game Masters"]
    },
    {
      "viewpoint": "services",
      "concern": "Search engine interfaces",
      "key_views": ["Search API", "Analytics Engine"],
      "stakeholders": ["Service Developers", "Integration Engineers"]
    },
    {
      "viewpoint": "information",
      "concern": "Content indexing and retrieval",
      "key_views": ["Index Model", "Search Patterns"],
      "stakeholders": ["Data Engineers", "Content Managers"]
    }
  ],
  "service_resource_relationships": [
    {
      "resource_type": "Search Index",
      "relationship": "provides",
      "capability": "Content Indexing",
      "resource_performer": "Elasticsearch"
    },
    {
      "resource_type": "Analytics Store",
      "relationship": "provides",
      "capability": "Usage Analytics",
      "resource_performer": "TimescaleDB"
    },
    {
      "resource_type": "Cache Layer",
      "relationship": "provides",
      "capability": "Query Caching",
      "resource_performer": "Redis"
    }
  ],
  "dependencies": [
    "character_management_system",
    "campaign_management_system",
    "content_generation_system"
  ],
  "interfaces": [
    {
      "name": "content_search",
      "interface_type": "http_endpoint",
      "communication_pattern": "synchronous",
      "dependency_type": "direct",
      "path": "/api/v2/search/content",
      "method": "POST",
      "description": "Comprehensive content search across all D&D content",
      "auth_required": true,
      "version": "1.0",
      "implementation_status": "recommended",
      "source_verification": "Based on feature summary - Search & Discovery",
      "information_element_flows": [
        "query_parameters",
        "search_results"
      ]
    },
    {
      "name": "semantic_search",
      "interface_type": "http_endpoint",
      "communication_pattern": "synchronous",
      "dependency_type": "direct",
      "path": "/api/v2/search/semantic",
      "method": "POST",
      "description": "AI-powered semantic search for related content",
      "auth_required": true,
      "version": "1.0",
      "implementation_status": "recommended",
      "source_verification": "Based on feature summary - Search & Discovery",
      "information_element_flows": [
        "semantic_query",
        "ranked_results"
      ]
    },
    {
      "name": "search_analytics",
      "interface_type": "http_endpoint",
      "communication_pattern": "synchronous",
      "dependency_type": "direct",
      "path": "/api/v2/analytics/usage",
      "method": "GET",
      "description": "Retrieve content usage analytics and trends",
      "auth_required": true,
      "version": "1.0",
      "implementation_status": "recommended",
      "source_verification": "Based on feature summary - Search & Discovery",
      "information_element_flows": [
        "analytics_request",
        "usage_metrics"
      ]
    },
    {
      "name": "search_events",
      "interface_type": "message",
      "communication_pattern": "asynchronous",
      "dependency_type": "indirect",
      "description": "Publish search and analytics events",
      "auth_required": true,
      "version": "1.0",
      "implementation_status": "recommended",
      "source_verification": "Based on feature summary - Event System",
      "information_element_flows": [
        "search_event",
        "analytics_event"
      ]
    }
  ],
  "is_external": false,
  "parent_system": "dnd",
  "security": {
    "api_key_authentication": false,
    "ssl_tls": true,
    "additional_requirements": [
      "OAuth2 JWT via gateway",
      "RBAC",
      "Rate limiting"
    ]
  },
  "deployment": {
    "ansible_managed": true,
    "systemd_service": false,
    "python_uvicorn": true,
    "docker_container": true,
    "additional_info": {
      "elasticsearch": "8.12.0",
      "fastapi": "0.118.0",
      "python": "3.13.7"
    }
  },
  "performance": {
    "expected_load": "high",
    "scaling_strategy": "horizontal",
    "resource_requirements": {
      "search_latency": "< 100ms",
      "semantic_search_latency": "< 500ms",
      "indexing_latency": "< 1s"
    }
  },
  "version": "1.0+2025-10-05",
  "source_references": {
    "documentation_links": [
      "elasticsearch.co/guide/8.12"
    ],
    "analysis_date": "2025-10-05",
    "confidence_level": "high"
  },
  "implementation_status": "recommended",
  "verification_notes": "Required for comprehensive content discovery",
  "justification": {
    "rationale": "Dedicated search system needed for content discovery and analytics",
    "standards_reference": "UAF 1.2 Level 1 system requirements - content management",
    "best_practices_reference": "Elasticsearch-based search with semantic capabilities",
    "trade_offs": "Additional infrastructure complexity balanced against search capabilities"
  }
}